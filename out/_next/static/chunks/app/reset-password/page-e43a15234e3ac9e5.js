(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[363],{4530:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},7216:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]])},9670:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},5589:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9036:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},2549:function(e,s,a){"use strict";a.d(s,{Z:function(){return r}});var t=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let r=(0,t.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},9769:function(e,s,a){Promise.resolve().then(a.bind(a,3348))},3348:function(e,s,a){"use strict";a.r(s),a.d(s,{default:function(){return P}});var t=a(7437),r=a(2265),l=a(4033),n=a(3023),d=a(1908),o=a(9583),i=a(6110),c=a(9581),m=a(5531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let x=(0,m.Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);var u=a(4530),h=a(9036),w=a(5589),f=a(7216),b=a(9670),p=a(2549),g=a(8291),j=a(1396),N=a.n(j),v=a(1956),y=a(1771);function P(){let e=(0,l.useRouter)(),s=(0,l.useSearchParams)(),a=s.get("token"),[m,j]=(0,r.useState)({newPassword:"",confirmPassword:""}),[P,k]=(0,r.useState)(!1),[Z,C]=(0,r.useState)(!1),[S,F]=(0,r.useState)(!1),[z,R]=(0,r.useState)(""),[E,{isLoading:M}]=(0,y.gL)();(0,r.useEffect)(()=>{a||R("No reset token found. Please request a new password reset.")},[a]);let I=(()=>{let e=m.newPassword;return 0===e.length?{strength:0,text:"",color:""}:e.length<6?{strength:1,text:"Weak",color:"text-red-400"}:e.length<10?{strength:2,text:"Medium",color:"text-yellow-400"}:{strength:3,text:"Strong",color:"text-emerald-400"}})(),q=()=>m.newPassword&&m.confirmPassword?m.newPassword.length<6?(v.CF.error("Validation Error","Password must be at least 6 characters long"),!1):m.newPassword===m.confirmPassword||(v.CF.error("Validation Error","Passwords do not match"),!1):(v.CF.error("Validation Error","Please fill in both password fields"),!1),_=async s=>{if(s.preventDefault(),!a){v.CF.error("Invalid Request","No reset token found. Please request a new password reset.");return}if(q())try{let s=await E({token:a,newPassword:m.newPassword,confirmPassword:m.confirmPassword}).unwrap();F(!0),v.CF.success("Password Reset Successful",s.message),setTimeout(()=>{e.push("/login?message=password-reset-success")},3e3)}catch(e){var t;(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.message)&&e.data.message.includes("Invalid or expired")?(R(e.data.message),v.CF.error("Invalid Token",e.data.message)):(0,v.zG)(e,"Failed to reset password. Please try again.")}};return z?(0,t.jsxs)("section",{className:"min-h-screen flex items-center justify-center bg-professional-dark relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-red-500/10 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-orange-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,t.jsx)("div",{className:"relative container-padding w-full max-w-lg animate-fade-in",children:(0,t.jsxs)(i.Zb,{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-700/60 shadow-2xl rounded-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center pb-8 pt-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-red-500/20 to-orange-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(x,{className:"w-8 h-8 text-red-400"})}),(0,t.jsx)(i.ll,{className:"text-3xl font-bold text-red-400 mb-3",children:"Invalid Reset Link"}),(0,t.jsx)(i.SZ,{className:"text-lg text-slate-400",children:"This password reset link is invalid or has expired"})]}),(0,t.jsxs)(i.aY,{className:"space-y-6 pb-8",children:[(0,t.jsx)("div",{className:"bg-red-500/10 border border-red-500/30 rounded-xl p-6",children:(0,t.jsx)("p",{className:"text-slate-300 leading-relaxed",children:z})}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)(n.z,{onClick:()=>e.push("/forgot-password"),className:"w-full h-12 btn-primary text-lg font-semibold rounded-xl shadow-lg hover:shadow-blue-500/25",children:"Request New Reset Link"}),(0,t.jsx)(n.z,{onClick:()=>e.push("/login"),variant:"outline",className:"w-full h-12 border-slate-600/60 text-slate-300 hover:bg-slate-800/50 hover:text-white rounded-xl transition-all duration-200",children:"Back to Sign In"})]})]})]})})]}):S?(0,t.jsxs)("section",{className:"min-h-screen flex items-center justify-center bg-professional-dark relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-emerald-500/10 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-green-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,t.jsx)("div",{className:"relative container-padding w-full max-w-lg animate-fade-in",children:(0,t.jsxs)(i.Zb,{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-700/60 shadow-2xl rounded-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center pb-8 pt-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-emerald-500/20 to-green-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(u.Z,{className:"w-8 h-8 text-emerald-400"})}),(0,t.jsx)(i.ll,{className:"text-3xl font-bold text-gradient-secondary mb-3",children:"Password Reset Successful"}),(0,t.jsx)(i.SZ,{className:"text-lg text-slate-400",children:"Your password has been updated successfully"})]}),(0,t.jsxs)(i.aY,{className:"space-y-6 pb-8",children:[(0,t.jsxs)("div",{className:"bg-emerald-500/10 border border-emerald-500/30 rounded-xl p-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3 text-emerald-400 font-medium mb-3",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5"}),(0,t.jsx)("span",{children:"Password updated successfully"})]}),(0,t.jsx)("p",{className:"text-slate-300 leading-relaxed",children:"You can now sign in to your account using your new password. For security, all existing sessions have been logged out."})]}),(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("p",{className:"text-slate-400 mb-4",children:"Redirecting you to sign in..."}),(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(c.Z,{size:32})})]}),(0,t.jsx)(n.z,{onClick:()=>e.push("/login"),className:"w-full h-12 btn-primary text-lg font-semibold rounded-xl shadow-lg hover:shadow-blue-500/25",children:"Continue to Sign In"})]})]})})]}):(0,t.jsxs)("section",{className:"min-h-screen flex items-center justify-center bg-professional-dark relative overflow-hidden",children:[(0,t.jsxs)("div",{className:"absolute inset-0",children:[(0,t.jsx)("div",{className:"absolute top-1/4 right-1/4 w-96 h-96 bg-blue-500/10 rounded-full blur-3xl animate-pulse"}),(0,t.jsx)("div",{className:"absolute bottom-1/4 left-1/4 w-96 h-96 bg-indigo-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}})]}),(0,t.jsx)("div",{className:"relative container-padding w-full max-w-lg animate-fade-in",children:M?(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(c.Z,{size:64}),(0,t.jsx)("p",{className:"text-slate-400 text-lg",children:"Resetting your password..."})]}):(0,t.jsxs)(i.Zb,{className:"bg-slate-900/90 backdrop-blur-xl border border-slate-700/60 shadow-2xl rounded-xl",children:[(0,t.jsxs)(i.Ol,{className:"text-center pb-8 pt-8",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-gradient-to-br from-blue-500/20 to-indigo-500/20 rounded-2xl flex items-center justify-center mx-auto mb-6",children:(0,t.jsx)(w.Z,{className:"w-8 h-8 text-blue-400"})}),(0,t.jsx)(i.ll,{className:"text-3xl font-bold text-gradient-secondary mb-3",children:"Create New Password"}),(0,t.jsx)(i.SZ,{className:"text-lg text-slate-400",children:"Enter a secure password for your ForgeAPI account"})]}),(0,t.jsxs)(i.aY,{className:"space-y-6 pb-8",children:[(0,t.jsxs)("form",{onSubmit:_,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"newPassword",className:"text-slate-300 font-medium",children:"New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)(d.I,{id:"newPassword",type:P?"text":"password",placeholder:"Enter your new password",value:m.newPassword,onChange:e=>j(s=>({...s,newPassword:e.target.value})),className:"pl-12 pr-12 h-12 bg-slate-800/80 border-slate-600/60 text-white placeholder:text-slate-400 focus:border-blue-500/60 focus:ring-blue-500/20 rounded-xl transition-all duration-200",required:!0,autoFocus:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>{k(!P)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:P?(0,t.jsx)(f.Z,{className:"w-5 h-5"}):(0,t.jsx)(b.Z,{className:"w-5 h-5"})})]}),m.newPassword&&(0,t.jsx)("div",{className:"space-y-2",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"flex-1 bg-slate-700/50 rounded-full h-2",children:(0,t.jsx)("div",{className:"h-full rounded-full transition-all duration-300 ".concat(1===I.strength?"bg-red-500 w-1/3":2===I.strength?"bg-yellow-500 w-2/3":3===I.strength?"bg-emerald-500 w-full":"w-0")})}),(0,t.jsx)("span",{className:"text-sm font-medium ".concat(I.color),children:I.text})]})})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsx)(o._,{htmlFor:"confirmPassword",className:"text-slate-300 font-medium",children:"Confirm New Password"}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(w.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-slate-400 w-5 h-5"}),(0,t.jsx)(d.I,{id:"confirmPassword",type:Z?"text":"password",placeholder:"Confirm your new password",value:m.confirmPassword,onChange:e=>j(s=>({...s,confirmPassword:e.target.value})),className:"pl-12 pr-12 h-12 bg-slate-800/80 border-slate-600/60 text-white placeholder:text-slate-400 focus:border-blue-500/60 focus:ring-blue-500/20 rounded-xl transition-all duration-200",required:!0}),(0,t.jsx)("button",{type:"button",onClick:()=>{C(!Z)},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-slate-400 hover:text-white transition-colors",children:Z?(0,t.jsx)(f.Z,{className:"w-5 h-5"}):(0,t.jsx)(b.Z,{className:"w-5 h-5"})})]}),m.confirmPassword&&(0,t.jsx)("div",{className:"flex items-center gap-2 text-sm",children:m.newPassword===m.confirmPassword?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(u.Z,{className:"w-4 h-4 text-emerald-400"}),(0,t.jsx)("span",{className:"text-emerald-400",children:"Passwords match"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(p.Z,{className:"w-4 h-4 text-red-400"}),(0,t.jsx)("span",{className:"text-red-400",children:"Passwords must match"})]})})]}),(0,t.jsxs)("div",{className:"bg-slate-800/50 rounded-xl p-4",children:[(0,t.jsx)("h4",{className:"text-slate-300 font-medium mb-2",children:"Password Requirements:"}),(0,t.jsxs)("ul",{className:"space-y-1 text-sm",children:[(0,t.jsxs)("li",{className:"flex items-center gap-2 ".concat(m.newPassword.length>=6?"text-emerald-400":"text-slate-400"),children:[m.newPassword.length>=6?(0,t.jsx)(u.Z,{className:"w-3 h-3"}):(0,t.jsx)("div",{className:"w-3 h-3 border border-slate-400 rounded-full"}),"At least 6 characters"]}),(0,t.jsxs)("li",{className:"flex items-center gap-2 ".concat(m.newPassword&&m.confirmPassword&&m.newPassword===m.confirmPassword?"text-emerald-400":"text-slate-400"),children:[m.newPassword&&m.confirmPassword&&m.newPassword===m.confirmPassword?(0,t.jsx)(u.Z,{className:"w-3 h-3"}):(0,t.jsx)("div",{className:"w-3 h-3 border border-slate-400 rounded-full"}),"Passwords must match"]})]})]}),(0,t.jsx)(n.z,{type:"submit",disabled:M||!m.newPassword.trim()||!m.confirmPassword.trim()||m.newPassword!==m.confirmPassword||m.newPassword.length<6,className:"w-full h-12 btn-primary text-lg font-semibold rounded-xl shadow-lg hover:shadow-blue-500/25 group",children:M?(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(c.Z,{size:20}),(0,t.jsx)("span",{children:"Resetting Password..."})]}):(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("span",{children:"Reset Password"}),(0,t.jsx)(g.Z,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]})})]}),(0,t.jsx)("div",{className:"bg-blue-500/10 border border-blue-500/30 rounded-xl p-4",children:(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(h.Z,{className:"w-5 h-5 text-blue-400 mt-0.5 flex-shrink-0"}),(0,t.jsxs)("div",{className:"space-y-1",children:[(0,t.jsx)("p",{className:"text-blue-400 font-medium text-sm",children:"Security Notice"}),(0,t.jsx)("p",{className:"text-slate-300 text-sm leading-relaxed",children:"After resetting your password, you'll be logged out of all devices and will need to sign in again with your new password."})]})]})}),(0,t.jsx)("div",{className:"pt-6 border-t border-slate-700/50",children:(0,t.jsx)("div",{className:"text-center",children:(0,t.jsxs)("p",{className:"text-slate-400",children:["Remember your password?"," ",(0,t.jsx)(N(),{href:"/login",className:"text-blue-400 hover:text-blue-300 font-medium transition-colors",children:"Sign in instead"})]})})})]})]})})]})}}},function(e){e.O(0,[237,396,583,123,971,864,744],function(){return e(e.s=9769)}),_N_E=e.O()}]);